{
    "dataset_reader": {
      "class_name": "basic_classification_reader",
      "class_sep": ",",
      "x": "text",
      "y": "category",
      "data_path": "/home/nchizhikova/binary/DeepPavlov/clinc_5 copy",
      "train": "train.csv",
      "valid": "valid.csv",
      "test": "test.csv"
    },
    "dataset_iterator": {
      "class_name": "few_shot_iterator"
    },
    "chainer": {
      "in": ["x"],
      "in_y": ["y"],
      "pipe": [
        {
          "class_name": "dnnc_input_preprocessor",
          "in": ["x"],
          "out": ["infer_support_texts", "x_populated", "infer_support_labels"],
          "x": "text",
          "y": "category",
          "class_sep": ",",
          "support_dataset_path": "/archive/savkin/parsed_datasets/clinc/clinc_5/train.csv"
        },
        {
          "config_path": "{CONFIGS_PATH}/classifiers/roberta_nli.json",
          "in": ["infer_support_texts", "x_populated"],
          "out": ["simmilarity_scores"]
        },
        {
          "class_name": "proba2labels_few_shot",
          "in": ["simmilarity_scores", "x", "x_populated", "infer_support_labels", "y"],
          "out": ["predicted_labels"],
          "is_binary": "{BINARY_CLASSIFICATION}",
          "confidence_threshold": 0.8
        }
      ],
      "out": ["predicted_labels"]
    },
    "train": {
      "batch_size": 1,
      "metrics": [
        {
          "name": "accuracy",
          "inputs": [
            "y",
            "predicted_labels"
          ],
          "exclude_oos": true
        },
        {
          "name": "oos_scores",
          "inputs": [
            "y",
            "predicted_labels"]
        }
      ],
      "validation_patience": 0,
      "val_every_n_epochs": 0,
      "log_every_n_epochs": 0,
      "show_examples": false,
      "evaluation_targets": ["valid"],
      "class_name": "torch_trainer",
      "tensorboard_log_dir": "{MODEL_PATH}/"
    },
    "metadata": {
      "variables": {
        "ROOT_PATH": "~/.deeppavlov",
        "DOWNLOADS_PATH": "{ROOT_PATH}/downloads",
        "MODELS_PATH": "{ROOT_PATH}/models",
        "MODEL_PATH": "{MODELS_PATH}/classification/dnnc",
        "CONFIGS_PATH": "{DEEPPAVLOV_PATH}/configs",
        "BINARY_CLASSIFICATION": true
      }
    }
  }
  
